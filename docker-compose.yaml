version: '3.8'

services:
  qdrant:
    image: qdrant/qdrant:latest
    container_name: qdrant-server
    restart: always
    ports:
      - "6333:6333" # HTTP Port สำหรับ REST API และ Dashboard
      - "6334:6334" # GRPC Port (สำหรับการส่งข้อมูลจำนวนมากที่เร็วขึ้น)
    environment:
      # ตั้งค่า API Key เพื่อความปลอดภัย (จำเป็นสำหรับองค์กร!)
      - QDRANT__SERVICE__API_KEY=ChDWBsMBl7ScMmuGTgY2GnsWVNVl7KgT
    volumes:
      # mount volume เพื่อให้ข้อมูลไม่หายเวลา restart container
      - ./qdrant_storage:/qdrant/storage